syntax = "proto3";
package hostserve.v1;
option go_package = "github.com/bmj2728/HostServiceTest/shared/protogen/hostserve/v1;hostservev1";

// HostService is a service provided by the host process and is generally preferred over granting direct
// access to the plugin process
service HostService {
  //FS Endpoints
  rpc ReadDir(ReadDirRequest) returns (ReadDirResponse); //underlying returns []DirEntry, error
  rpc ReadFile(ReadFileRequest) returns (ReadFileResponse); //underlying returns []byte, error
  //Env Endpoints
  rpc GetEnv(GetEnvRequest) returns (GetEnvResponse);
}

// DirEntry represents
message DirEntry {
  string name = 1;
  bool is_dir = 2;
}

message ReadDirRequest {
  string path = 1;
}

message ReadDirResponse {
  repeated DirEntry entries = 1;
  optional string error = 2;
}

message GetEnvRequest {
  string key = 1;
}

message GetEnvResponse {
  string val = 1;
}

message ReadFileRequest {
  string dir = 1;
  string file = 2;
}

message ReadFileResponse {
  bytes contents = 1;
  optional string error = 2;
}